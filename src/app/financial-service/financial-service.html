<mat-tab-group>
    <mat-tab label="{{'profile.fifthTabContent.createLoan' | translate}}">
        <mat-horizontal-stepper [linear]="isLinear" #stepper>
            <mat-step>
                <ng-template matStepLabel>{{'profile.startButton' | translate}}</ng-template>
                <h4>{{'profile.fifthTabContent.title' | translate}}</h4>
                <br><br>
                {{'profile.fifthTabContent.text2' | translate}}
                <br><br>
                {{'profile.fifthTabContent.text3' | translate}}
                <br><br>
                <ng-template [ngIf]="creditAvailable" [ngIfElse]="rejected">
                    <h6>{{'profile.fifthTabContent.text4' | translate}} {{creditAvailable ? 'Approved' : 'Rejected'}}<i class="material-icons" style="color: green">done_outline</i></h6>
                </ng-template>
                <ng-template #rejected>
                    <h6>{{'profile.fifthTabContent.text4' | translate}} {{creditAvailable ? 'Approved' : 'Rejected'}}<i class="material-icons" style="color: red">clear</i></h6>
                </ng-template>

                <br><br>
                <div>
                    <button mat-button matStepperPrevious>{{'profile.firstTabContent.backButton' | translate}}</button>
                    <ng-template [ngIf]="creditAvailable" [ngIfElse]="noCredit">
                        <button mat-button matStepperNext>{{'profile.secondTabContent.acceptButton' | translate}}</button>
                    </ng-template>
                    <ng-template #noCredit>
                        <button mat-button (click)="stepper.reset()">{{'profile.firstTabContent.resetButton' | translate}}</button>
                    </ng-template>
                </div>
            </mat-step>

            <mat-step>
                <ng-template matStepLabel>{{'profile.fifthTabContent.loanTitle' | translate}}</ng-template>
                <h4>{{'profile.fifthTabContent.loanText' | translate}}</h4>


                <mat-card class="example-card">
                    <mat-card-header>
                        <div mat-card-avatar class="example-header-image"></div>
                        <mat-card-title>{{'profile.fifthTabContent.value' | translate}}</mat-card-title>
                     </mat-card-header>
                    <mat-card-content>
                        <p style="text-align: right">
                            {{2000 | localCurrency}}
                        </p>
                    </mat-card-content>
                </mat-card>

                <mat-card class="example-card">
                    <mat-card-header>
                        <div mat-card-avatar class="example-header-image"></div>
                        <mat-card-title>{{'profile.fifthTabContent.fees' | translate}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p style="text-align: right">
                            6
                        </p>
                    </mat-card-content>
                </mat-card>

                <mat-card class="example-card">
                    <mat-card-header>
                        <div mat-card-avatar class="example-header-image"></div>
                        <mat-card-title>{{'profile.fifthTabContent.monthyFee' | translate}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p style="text-align: right">
                            {{200 | localCurrency}}
                        </p>
                    </mat-card-content>
                </mat-card>

                <div>
                    <button mat-button (click)="stepper.reset()">{{'profile.firstTabContent.resetButton' | translate}}</button>
                    <button mat-button matStepperNext (click)="send()">{{'profile.secondTabContent.acceptButton' | translate}}</button>
                </div>
            </mat-step>

            <mat-step>
                <ng-template matStepLabel>{{ 'profile.firstTabContent.stepFour.title' | translate }}</ng-template>
                <h4>{{'profile.fifthTabContent.done' | translate}}</h4>
                <div>
                    <button mat-button matStepperPrevious>{{'profile.firstTabContent.backButton' | translate}}</button>
                    <button mat-button (click)="stepper.reset()">{{'profile.firstTabContent.resetButton' | translate}}</button>
                </div>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-tab>
    <mat-tab label="{{'profile.fifthTabContent.myLoans' | translate}}">
        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> id </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>

            <ng-container matColumnDef="creditSituation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> credit_situation </th>
                <td mat-cell *matCellDef="let element"> {{element.creditSituation}} </td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'profile.secondTabContent.tableColumnDate' | translate}} </th>
                <td mat-cell *matCellDef="let element"> {{element.date | localizedDate}} </td>
            </ng-container>

            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> email </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>

            <ng-container matColumnDef="loanAmount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> loan_amount </th>
                <td mat-cell *matCellDef="let element"> {{element.loanAmount | localCurrency}} </td>
            </ng-container>

            <ng-container matColumnDef="loanTerm">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> loan_term </th>
                <td mat-cell *matCellDef="let element"> {{element.loanTerm}} </td>
            </ng-container>

            <ng-container matColumnDef="loanTermsPayed">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> loan_terms_payed </th>
                <td mat-cell *matCellDef="let element"> {{element.loanTermsPayed}} </td>
            </ng-container>

            <ng-container matColumnDef="monthlyPayback">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> monthly_payback </th>
                <td mat-cell *matCellDef="let element"> {{element.monthlyPayback | localCurrency}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </mat-tab>
</mat-tab-group>
